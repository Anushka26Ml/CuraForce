<template>
    <lightning-card title="Patient First Aid Intake Form" icon-name="custom:custom14">
        <div class="slds-p-around_medium">
            
            <!-- Patient Info -->
            <lightning-input 
                class="slds-m-bottom_small"
                label="Patient Name *"
                value={patientName}
                onchange={handleChange}
                data-id="patientName"
                required>
            </lightning-input>

            <lightning-input 
                type="number" 
                class="slds-m-bottom_small"
                label="Age"
                value={age}
                onchange={handleChange}
                data-id="age">
            </lightning-input>

            <lightning-input 
                type="tel"
                class="slds-m-bottom_small"
                label="Contact Number *"
                value={contact}
                onchange={handleChange}
                data-id="contact"
                required>
            </lightning-input>

            <!-- Symptoms Dropdown (Single Selection) -->
            <lightning-combobox
                name="symptoms"
                label="Primary Symptom *"
                placeholder="Select Primary Symptom"
                options={symptomOptions}
                onchange={handleChange}
                data-id="symptoms"
                value={selectedSymptom}
                class="slds-m-bottom_small">
            </lightning-combobox>

            <!-- Other Symptoms Free Text -->
            <lightning-textarea
                label="Other Symptoms (if not listed)"
                placeholder="Describe additional symptoms here"
                value={otherSymptoms}
                onchange={handleChange}
                data-id="otherSymptoms"
                class="slds-m-bottom_small">
            </lightning-textarea>

            <!-- Vitals Section -->
            <div class="slds-section slds-is-open slds-m-top_medium">
                <h3 class="slds-section__title">
                    <span class="slds-text-heading_small">Vitals (Optional)</span>
                </h3>
                <div class="slds-section__content slds-p-top_small">
                    <lightning-input
                        type="number"
                        class="slds-m-bottom_small"
                        label="Pulse (bpm)"
                        value={pulse}
                        onchange={handleChange}
                        data-id="pulse"
                        min="40"
                        max="200">
                    </lightning-input>

                    <lightning-input
                        type="text"
                        class="slds-m-bottom_small"
                        label="Blood Pressure (e.g., 120/80)"
                        value={bp}
                        onchange={handleChange}
                        data-id="bp"
                        placeholder="120/80">
                    </lightning-input>
                </div>
            </div>

            <!-- Preferred Date -->
            <lightning-input
                type="date"
                class="slds-m-bottom_small slds-m-top_medium"
                label="Preferred Appointment Date"
                value={preferredDate}
                onchange={handleChange}
                data-id="preferredDate">
            </lightning-input>

            <!-- Urgency Display -->
            <div class="slds-box slds-theme_shade slds-m-top_medium">
                <p class="slds-text-heading_small">
                    Urgency Level: 
                    <span class={urgencyClass}><strong>{urgencyLevel}</strong></span>
                </p>
            </div>

            <!-- Submit Button -->
            <div class="slds-align_absolute-center slds-m-top_large">
                <lightning-button 
                    class="slds-m-top_medium"
                    label="Submit Form"
                    variant="brand"
                    onclick={handleSubmit}
                    type="button">
                </lightning-button>
            </div>
        </div>
    </lightning-card>
</template>